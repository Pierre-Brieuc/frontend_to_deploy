{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nconst API_URL = 'https://backend-project-web-app.onrender.com/users/login/';\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n  methods: {\n    submitForm() {\n      axios.post(API_URL, {\n        username: this.username,\n        password: this.password\n      }).then(response => {\n        console.log(JSON.stringify(response.config));\n        localStorage.setItem('token', response.data.jwt);\n        localStorage.setItem('user', response.config.data);\n        console.log(localStorage.getItem('token'));\n        localStorage.setItem('count', 0);\n        this.$router.push('/locations');\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAuCA,OAAOA,KAAI,MAAO,OAAM;AACxB,MAAMC,OAAM,GAAI,2DAA0D;AAE1E,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAG,GAAK;IACN,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAS,GAAK;MACZP,KAAK,CAACQ,IAAI,CAACP,OAAO,EAAE;QAClBG,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA;MACjB,CAAC,EACEI,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAACK,MAAM,CAAC;QAC3CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEP,QAAQ,CAACP,IAAI,CAACe,GAAG;QAC/CF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEP,QAAQ,CAACK,MAAM,CAACZ,IAAI;QACjDQ,OAAO,CAACC,GAAG,CAACI,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;QACzCH,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC,YAAY;MAChC,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdZ,OAAO,CAACC,GAAG,CAACW,KAAK;MACnB,CAAC;IACL;EACF;AACF","names":["axios","API_URL","name","data","username","password","methods","submitForm","post","then","response","console","log","JSON","stringify","config","localStorage","setItem","jwt","getItem","$router","push","catch","error"],"sourceRoot":"","sources":["C:\\Users\\PierreB\\Documents\\GitHub\\SecureWebCourses\\frontend_to_deploy\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"signUp\">\r\n    <form @submit.prevent=\"submitForm\">\r\n      <h2 class=\"\">Connexion</h2>\r\n      <div class=\"block-input\">\r\n          <div class=\"center-div-label-input\">\r\n              <label class=\"\" for=\"name\">\r\n                  Username\r\n              </label>\r\n              <input\r\n                  v-model=\"username\"\r\n                  type=\"username\"\r\n                  id=\"username\"\r\n                  placeholder=\"username\"\r\n              />\r\n          </div>\r\n          <div class=\"center-div-label-input\">\r\n              <label class=\"\" for=\"password\">\r\n                  Password\r\n              </label>\r\n              <input\r\n                  v-model=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"Password\"\r\n              />\r\n          </div>\r\n      </div>\r\n      <div class=\"btn-link\">\r\n        <button type=\"submit\">Sign in</button>\r\n          <p class=\"\">\r\n              Already have an account?\r\n              <router-link to=\"/register\">Register</router-link>\r\n          </p>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nconst API_URL = 'https://backend-project-web-app.onrender.com/users/login/'\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm () {\r\n      axios.post(API_URL, {\r\n        username: this.username,\r\n        password: this.password\r\n      })\r\n        .then(response => {\r\n          console.log(JSON.stringify(response.config))\r\n          localStorage.setItem('token', response.data.jwt)\r\n          localStorage.setItem('user', response.config.data)\r\n          console.log(localStorage.getItem('token'))\r\n          localStorage.setItem('count', 0)\r\n          this.$router.push('/locations')\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .signUp {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 95vh;\r\n  }\r\n\r\n  form {\r\n    background-color: #fff;\r\n    width: 50%;\r\n    box-shadow: 2.5px 2.5px rgba(47, 47, 47, 0.2);\r\n    padding: 1.5%;\r\n  }\r\n\r\n  h2{\r\n      text-align: center;\r\n  }\r\n\r\n  .block-input {\r\n      margin-top: 6%;\r\n      margin-bottom: 2%;\r\n  }\r\n\r\n  .center-div-label-input {\r\n      display: block;\r\n      display:flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n }\r\n input {\r\n      width: 70%;\r\n      height: 1.5rem;\r\n      margin-bottom: 4%;\r\n }\r\n .btn-link{\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n }\r\n button{\r\n      border:0.1px solid #000;\r\n      border-radius: 15px 15px 15px 15px;\r\n      width: fit-content;\r\n      background-color:rgb(205, 207, 210);\r\n      height: 2.5rem;\r\n }\r\n button:hover{\r\n      box-shadow: 2px 2px rgba(47, 47, 47, 0.2);\r\n      cursor: pointer;\r\n }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}